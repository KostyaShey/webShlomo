(this.webpackJsonpwebshlomo=this.webpackJsonpwebshlomo||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),c=(a(18),a(1)),s=a.n(c),l=a(5),d=a(4),p=a(6),u=a(7),m=a(8),h=a(2),f=a(10),D=a(9);a(20),a(21);function v(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",{onClick:e.changeVisibility,className:"pointerOnHover"},r.a.createElement("i",{className:"fas fa-plus-circle"})," Add ",{expences:"expences",income:"income",mExpences:"per month expences",mIncome:"per month income"}[e.typeOfData])),r.a.createElement("div",{className:"value"}),r.a.createElement("div",{className:"button"}))}var b=function(e){Object(f.a)(a,e);var t=Object(D.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.data.reduce((function(e,t){return e+t.value}),0);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,"Sum:")),r.a.createElement("div",{className:"value bold"},r.a.createElement("p",{className:"numbersAlign"},e," \u20ac")),r.a.createElement("div",{className:"button"}))}}]),a}(n.Component);function B(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,{expences:"Expences",income:"Income",mExpences:"Per Month Expences",mIncome:"Per Month Income"}[e.name].toUpperCase())),r.a.createElement("div",{className:"value"}),r.a.createElement("div",{className:"button"}))}a(22);var E=a(3);a(23);function y(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),o=a[0],i=a[1],c=function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},a,n))}))},u=function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.writeToDB({name:o.inputTitle,value:parseInt(o.inputValue)},e.typeOfData,e.date.selectedMonth,e.date.selectedYear);case 3:i({inputTitle:"",inputValue:""}),e.readFromDB(e.typeOfData,e.date.selectedMonth,e.date.selectedYear);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",{className:"row noHover"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"inputTitle",value:o.inputTitle,placeholder:"Input Title",onChange:c})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"inputValue",value:o.inputValue,placeholder:"Input Value",onChange:c})),r.a.createElement("div",{className:"inputButtons inputButtons"},r.a.createElement("button",{type:"submit"},"\uf00c"),r.a.createElement("button",{type:"button",onClick:e.changeVisibility},"\uf05e"))))}a(24);function O(e){var t=Object(n.useState)({inputTitle:e.item.name,inputValue:e.item.value}),a=Object(E.a)(t,2),o=a[0],i=a[1],c=function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},a,n))}))},u=function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.updateInDB({name:o.inputTitle,value:parseInt(o.inputValue)},e.item._id.$oid,e.typeOfData);case 3:return t.next=5,e.readFromDB(e.typeOfData,e.date.selectedMonth,e.date.selectedYear);case 5:e.setEditMode();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",{className:"row noHover"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"inputTitle",value:o.inputTitle,placeholder:"Input Title",onChange:c})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"inputValue",value:o.inputValue,placeholder:"Input Value",onChange:c})),r.a.createElement("div",{className:"inputButtons inputButtons"},r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.setEditMode()}},"\uf05e"),r.a.createElement("button",{type:"submit"},"\uf00c"))))}function w(e){var t=function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Click on item ".concat(e.item._id.$oid)),t.next=3,e.deleteFromDB(e.item._id.$oid,e.typeOfData);case 3:e.readFromDB(e.typeOfData,e.date.selectedMonth,e.date.selectedYear);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"row item"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title"},r.a.createElement("p",null,e.item.name)),r.a.createElement("div",{className:"value"},r.a.createElement("p",{className:"numbersAlign"},e.item.value," \u20ac")),r.a.createElement("div",{className:"button trash"},r.a.createElement("button",{type:"button",onClick:e.setEditMode},"\uf044"),r.a.createElement("button",{type:"button",onClick:t},"\uf2ed")))}function F(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),o=a[0],i=a[1];return o?r.a.createElement(O,{setEditMode:i,item:e.item,typeOfData:e.typeOfData,readFromDB:e.readFromDB,updateInDB:e.updateInDB,date:e.date}):r.a.createElement(w,{setEditMode:i,item:e.item,typeOfData:e.typeOfData,deleteFromDB:e.deleteFromDB,readFromDB:e.readFromDB,date:e.date})}a(25);function j(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(E.a)(c,2),l=s[0],d=s[1],p=function(){i((function(e){return!e})),d((function(e){return!e}))};return r.a.createElement("div",null,r.a.createElement("p",{id:"noData"},"No Data available",r.a.createElement("br",null),"\xaf\\_(\u30c4)_/\xaf"),o&&r.a.createElement(v,{type:e.type,changeVisibility:p}),l&&r.a.createElement(y,{changeVisibility:p,writeToDB:e.writeToDB,readFromDB:e.readFromDB,date:e.date,type:e.type}))}var g=function(e){Object(f.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={showAddRow:!0,showInputRow:!1},n.changeVisibility=n.changeVisibility.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"changeVisibility",value:function(){this.setState({showInputRow:!this.state.showInputRow}),this.setState({showAddRow:!this.state.showAddRow})}},{key:"render",value:function(){var e=this;return 0===this.props.data.length?r.a.createElement("div",null,r.a.createElement(B,{name:this.props.typeOfData}),r.a.createElement(j,{type:this.props.typeOfData,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,date:this.props.date})):r.a.createElement("div",null,r.a.createElement(B,{name:this.props.typeOfData}),this.props.data.map((function(t){return r.a.createElement(F,{item:t,typeOfData:e.props.typeOfData,deleteFromDB:e.props.deleteFromDB,readFromDB:e.props.readFromDB,updateInDB:e.props.updateInDB,date:e.props.date,key:t._id.$oid})})),r.a.createElement(b,{data:this.props.data}),this.state.showAddRow&&r.a.createElement(v,{typeOfData:this.props.typeOfData,changeVisibility:this.changeVisibility}),this.state.showInputRow&&r.a.createElement(y,{changeVisibility:this.changeVisibility,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,date:this.props.date,typeOfData:this.props.typeOfData}))}}]),a}(n.Component);a(26);function N(e){var t=Object(n.useRef)(!1);return Object(n.useEffect)((function(){t.current?e.readAllCollectionsFromDB(e.date.selectedMonth,e.date.selectedYear):t.current=!0}),[e.date.selectedMonth]),r.a.createElement("div",{className:"monthChanger"},r.a.createElement("div",{className:"prevMonth"},r.a.createElement("button",{type:"button",onClick:function(){e.changeMonth(-1)}},"\uf04a")),r.a.createElement("div",{className:"currentMonth"},["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.selectedMonth],", ",e.date.selectedYear),r.a.createElement("div",{className:"nextMonth"},r.a.createElement("button",{type:"button",onClick:function(){e.changeMonth(1)}},"\uf04e")))}var M=function(e){Object(f.a)(a,e);var t=Object(D.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,{date:this.props.data.date,changeMonth:this.props.changeMonth,readAllCollectionsFromDB:this.props.readAllCollectionsFromDB}),r.a.createElement("div",{className:"monthTable"},!this.props.data.loading&&r.a.createElement(g,{typeOfData:"expences",data:this.props.data.expences,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date}),!this.props.data.loading&&r.a.createElement(g,{typeOfData:"income",data:this.props.data.income,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date})),r.a.createElement("div",{className:"monthTable"},!this.props.data.loading&&r.a.createElement(g,{typeOfData:"mExpences",data:this.props.data.mExpences,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date}),!this.props.data.loading&&r.a.createElement(g,{typeOfData:"mIncome",data:this.props.data.mIncome,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date})))}}]),a}(n.Component),T=function(e){Object(f.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,date:{currentMonth:(new Date).getMonth(),currentYear:(new Date).getFullYear(),selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear()}},n.readFromDB=n.readFromDB.bind(Object(h.a)(n)),n.writeToDB=n.writeToDB.bind(Object(h.a)(n)),n.deleteFromDB=n.deleteFromDB.bind(Object(h.a)(n)),n.updateInDB=n.updateInDB.bind(Object(h.a)(n)),n.changeMonth=n.changeMonth.bind(Object(h.a)(n)),n.readAllCollectionsFromDB=n.readAllCollectionsFromDB.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"readFromDB",value:function(e,t,a){var n=this;fetch("/fetch/".concat(e),{method:"GET",headers:{"Content-type":"application/json",month:t+1,year:a,typeOfData:e}}).then((function(e){return e.json()})).then((function(t){return Object(p.a)({},e,t)})).then((function(e){return n.setState(e)})),console.log("done fetching ".concat(e))}},{key:"readAllCollectionsFromDB",value:function(e,t){for(var a=["income","expences","mExpences","mIncome"],n=0;n<a.length;n++)this.readFromDB(a[n],e,t)}},{key:"writeToDB",value:function(e,t,a,n){fetch("/add/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e.name,value:e.value,month:a+1,year:n})})}},{key:"deleteFromDB",value:function(e,t){fetch("/delete/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({id:e})})}},{key:"updateInDB",value:function(e,t,a){fetch("/update/".concat(a),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({id:t,name:e.name,value:e.value})})}},{key:"changeMonth",value:function(e){var t=this.state.date.selectedMonth,a=this.state.date.selectedYear;11===this.state.date.selectedMonth&&e>0?(t=0,a+=1):0===this.state.date.selectedMonth&&e<0?(t=11,a-=1):t+=e,this.setState({date:Object(d.a)(Object(d.a)({},this.state.date),{},{selectedMonth:t,selectedYear:a})})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=["income","expences","mExpences","mIncome"],n=0;case 3:if(!(n<a.length)){e.next=10;break}return e.next=6,fetch("/fetch/".concat(a[n]),{method:"GET",headers:{"Content-type":"application/json",month:this.state.date.currentMonth+1,year:this.state.date.currentYear,typeOfData:a[n]}}).then((function(e){return e.json()}));case 6:t[a[n]]=e.sent;case 7:n++,e.next=3;break;case 10:t.loading=!1,this.setState(t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(M,{data:this.state,writeToDB:this.writeToDB,readFromDB:this.readFromDB,deleteFromDB:this.deleteFromDB,updateInDB:this.updateInDB,changeMonth:this.changeMonth,readAllCollectionsFromDB:this.readAllCollectionsFromDB})}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.828fb8d2.chunk.js.map