(this.webpackJsonpwebshlomo=this.webpackJsonpwebshlomo||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(36)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(21),a(4)),i=a.n(o),s=a(5),u=a(1),m=a(2),d=a(7),p=a(8),h=a(6),f=a(10),v=a(9),b=(a(23),a(3));a(24);function E(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",{onClick:function(){return e.setShowInputRow(!e.showInputRow)},className:"pointerOnHover"},r.a.createElement("i",{className:"fas fa-plus-circle"})," Add ",{expenses:"expenses",income:"income",mExpenses:"per month expenses",mIncome:"per month income"}[e.typeOfData])),r.a.createElement("div",{className:"value"}),r.a.createElement("div",{className:"button"}))}var D=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,"Sum:")),r.a.createElement("div",{className:"value bold"},r.a.createElement("p",{className:"numbersAlign"},this.props.total," \u20ac")),r.a.createElement("div",{className:"button"}))}}]),a}(n.Component);function y(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,{expenses:"Expenses",income:"Income",mExpenses:"Per Month Expenses",mIncome:"Per Month Income"}[e.name].toUpperCase())),r.a.createElement("div",{className:"value"}),r.a.createElement("div",{className:"button"}))}a(25),a(26);function O(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],c=a[1],o=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},a,n))}))},d=function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n={name:l.inputTitle,value:parseInt(l.inputValue),month:e.date.selectedMonth+1,year:e.date.selectedYear},e.writeToDB(n,e.typeOfData),c({inputTitle:"",inputValue:""});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:d},r.a.createElement("div",{className:"row noHover"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"inputTitle",value:l.inputTitle,placeholder:"Input Title",onChange:o})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"inputValue",value:l.inputValue,placeholder:"Input Value",onChange:o})),r.a.createElement("div",{className:"inputButtons inputButtons"},r.a.createElement("button",{type:"submit"},"\uf00c"),r.a.createElement("button",{type:"button",onClick:function(){return e.setShowInputRow(!e.showInputRow)}},"\uf05e"))))}a(27),a(28);function B(e){var t=Object(n.useState)({name:e.item.name,value:e.item.value}),a=Object(b.a)(t,2),l=a[0],c=a[1],o=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},a,n))}))},d=function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(n=l).id=e.item._id.$oid,n.month=e.date.selectedMonth+1,n.year=e.date.selectedYear,e.updateInDB(n,e.typeOfData),e.setEditMode();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:d},r.a.createElement("div",{className:"row noHover noBorderBottom"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"name",value:l.name,placeholder:"Input Title",onChange:o})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"value",value:l.value,placeholder:"Input Value",onChange:o})),r.a.createElement("div",{className:"inputButtons"},r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.setEditMode()}},"\uf05e"),r.a.createElement("button",{type:"submit"},"\uf00c"))))}a(29);function w(e){var t=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteFromDB(e.item._id.$oid,e.typeOfData);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=Object(n.useRef)("");return e.isActive?a.current="row item":a.current="row item inactive",r.a.createElement("div",{className:a.current},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title paddingleft"},r.a.createElement("p",null,e.item.name)),r.a.createElement("div",{className:"value"},r.a.createElement("p",{className:"numbersAlign"},e.item.value," \u20ac")),r.a.createElement("div",{className:"button trash"},r.a.createElement("button",{type:"button",onClick:e.setEditMode},"\uf044"),r.a.createElement("button",{type:"button",onClick:t},"\uf2ed")))}var j=a(13);a(30);function N(e){var t=Object(n.useState)({name:e.item.name,value:e.item.value,month:e.item.month,year:e.item.year}),a=Object(b.a)(t,2),l=a[0],c=a[1],o=Array.from({length:16},(function(e,t){return t+2020})),d=Object(n.useRef)({endYear:Math.max.apply(Math,Object(j.a)(l.year)),startYear:Math.min.apply(Math,Object(j.a)(l.year))}),p=Object(n.useRef)(""),h=function(e){var t,a,n=e.target,r=n.name,o=n.value;switch(n.type){case"select-one":p.current=function(e,t){return"startYear"===e&&t>d.current.endYear||"endYear"===e&&t<d.current.startYear?"validationFailed":""}(r,o),d.current[r]=parseInt(o),c((function(e){return Object(u.a)(Object(u.a)({},e),{},{year:Array.from({length:d.current.endYear-d.current.startYear+1},(function(e,t){return t+d.current.startYear}))})}));break;case"checkbox":var i=(t=l.month,a=parseInt(r),t.includes(a)?t=t.filter((function(e){return e!==a})):t.push(a),t);c((function(e){return Object(u.a)(Object(u.a)({},e),{},{month:i})}));break;default:c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},r,o))}))}},f=function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(n=l).id=e.item._id.$oid,e.updateInDB(n,e.typeOfData),e.setEditMode();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:f},r.a.createElement("div",{className:"row noHover noBorderBottom"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"name",value:l.name,placeholder:"Input Title",onChange:h})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"value",value:l.value,placeholder:"Input Value",onChange:h})),r.a.createElement("div",{className:"inputButtons"},r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.setEditMode()}},"\uf05e"),r.a.createElement("button",{type:"submit",disabled:p.current},"\uf00c"))),r.a.createElement("div",{className:"row noHower noBorderBottom"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"labels"},[{name:"January",label:1},{name:"February",label:2},{name:"March",label:3},{name:"April",label:4},{name:"May",label:5},{name:"June",label:6},{name:"July",label:7},{name:"August",label:8},{name:"September",label:9},{name:"Oktober",label:10},{name:"November",label:11},{name:"December",label:12}].map((function(e){return t=e,r.a.createElement("label",{key:t.label},r.a.createElement("input",{type:"checkbox",name:t.label,checked:l.month.includes(t.label),onChange:h}),t.name);var t})))),r.a.createElement("div",{className:"row noHower"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"selects"},r.a.createElement("label",{htmlFor:"startYear"},"Starting year:"),r.a.createElement("select",{id:"startYear",name:"startYear",defaultValue:d.current.startYear,onChange:h},o.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("label",{htmlFor:"endYear"},"End year:"),r.a.createElement("select",{id:"endYear",name:"endYear",defaultValue:d.current.endYear,onChange:h},o.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),p.current&&r.a.createElement("warning",null,"End year can't be before start year."))))}function I(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),l=a[0],c=a[1];return l&&!e.isMonthData?r.a.createElement(B,{setEditMode:c,item:e.item,typeOfData:e.typeOfData,updateInDB:e.updateInDB,date:e.date,isMonthData:e.isMonthData}):l&&e.isMonthData?r.a.createElement(N,{setEditMode:c,item:e.item,typeOfData:e.typeOfData,updateInDB:e.updateInDB,date:e.date,isMonthData:e.isMonthData}):r.a.createElement(w,{setEditMode:c,item:e.item,typeOfData:e.typeOfData,deleteFromDB:e.deleteFromDB,date:e.date,isActive:e.isActive})}a(31);function g(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row item"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"noData"},"No Data available",r.a.createElement("br",null),"\xaf\\_(\u30c4)_/\xaf"))))}function M(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),l=a[0],c=a[1];return 0===e.data.length?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y,{name:e.typeOfData}),r.a.createElement(g,{typeOfData:e.typeOfData,writeToDB:e.writeToDB,date:e.date}),!l&&r.a.createElement(E,{setShowInputRow:c,showInputRow:l,typeOfData:e.typeOfData}),l&&r.a.createElement(O,{setShowInputRow:c,showInputRow:l,writeToDB:e.writeToDB,date:e.date,typeOfData:e.typeOfData}))):r.a.createElement("div",null,r.a.createElement(y,{name:e.typeOfData}),e.data.map((function(t){return r.a.createElement(I,{item:t,typeOfData:e.typeOfData,deleteFromDB:e.deleteFromDB,updateInDB:e.updateInDB,date:e.date,key:t._id.$oid,isActive:!0})})),r.a.createElement(D,{total:e.total}),!l&&r.a.createElement(E,{setShowInputRow:c,showInputRow:l,typeOfData:e.typeOfData}),l&&r.a.createElement(O,{setShowInputRow:c,showInputRow:l,writeToDB:e.writeToDB,date:e.date,typeOfData:e.typeOfData}))}a(32);function T(e){var t=Object(n.useRef)(!1);return Object(n.useEffect)((function(){t.current?e.readAllCollectionsFromDB(e.date.selectedMonth,e.date.selectedYear):t.current=!0}),[e.date.selectedMonth]),r.a.createElement("div",{className:"monthChanger"},r.a.createElement("div",{className:"prevMonth"},r.a.createElement("button",{type:"button",onClick:function(){e.changeMonth(-1)}},"\uf04a")),r.a.createElement("div",{className:"currentMonth"},["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.selectedMonth],", ",e.date.selectedYear),r.a.createElement("div",{className:"nextMonth"},r.a.createElement("button",{type:"button",onClick:function(){e.changeMonth(1)}},"\uf04e")))}a(33);function F(e){var t=e.data.reduce((function(e,t){return e+t.value}),0);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,"Total monthly ",{mExpenses:"expenses",mIncome:"income"}[e.typeOfData])),r.a.createElement("div",{className:"value bold"},r.a.createElement("p",{className:"numbersAlign"},t," \u20ac")),r.a.createElement("div",{className:"button expand"},r.a.createElement("button",{type:"button",onClick:function(){return e.setShowDetails((function(e){return!e}))}},"\uf150")))}function k(e){var t=Object(n.useRef)("");return e.isActive?t.current="title":t.current="title inactive",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:t.current},r.a.createElement("p",null,e.text)),r.a.createElement("div",{className:"value"}),r.a.createElement("div",{className:"button"}))}a(34);function x(e){var t=Object(n.useRef)([]),a=Object(n.useRef)(""),l=Array.from({length:16},(function(e,t){return t+2020})),c=Object(n.useState)({startYear:2020,endYear:2020}),o=Object(b.a)(c,2),d=o[0],p=o[1],h=function(e){var n,r,l=e.target,c=l.name,o=l.value;switch(l.type){case"select-one":console.log(c),console.log(o),a.current=function(e,t){return"startYear"===e&&t>d.endYear||"endYear"===e&&t<d.startYear?"validationFailed":""}(c,o),p((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},c,o))}));break;case"checkbox":var i=(n=t.current,r=parseInt(c),n.includes(r)?n=n.filter((function(e){return e!==r})):n.push(r),n);p((function(e){return Object(u.a)(Object(u.a)({},e),{},{month:i})}));break;default:p((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},c,o))}))}},f=function(){var a=Object(s.a)(i.a.mark((function a(n){var r,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),r=Array.from({length:d.endYear-d.startYear+1},(function(e,t){return t+d.startYear})),l={name:d.inputTitle,value:parseInt(d.inputValue),month:t.current,year:r},e.writeToDB(l,e.typeOfData),p({inputTitle:"",inputValue:""}),t.current=[],e.setShowInputRow(!e.showInputRow);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:f},r.a.createElement("div",{className:"row noHover noBorderBottom"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"inputTitle"},r.a.createElement("input",{type:"text",name:"inputTitle",value:d.inputTitle,placeholder:"Input Title",onChange:h})),r.a.createElement("div",{className:"inputValue"},r.a.createElement("input",{type:"number",name:"inputValue",value:d.inputValue,placeholder:"Input Value",onChange:h})),r.a.createElement("div",{className:"inputButtons inputButtons"},r.a.createElement("button",{type:"submit",disabled:a.current},"\uf00c"),r.a.createElement("button",{type:"button",onClick:function(){return e.setShowInputRow(!e.showInputRow)}},"\uf05e"))),r.a.createElement("div",{className:"row noHower noBorderBottom"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"labels"},[{name:"January",label:1},{name:"February",label:2},{name:"March",label:3},{name:"April",label:4},{name:"May",label:5},{name:"June",label:6},{name:"July",label:7},{name:"August",label:8},{name:"September",label:9},{name:"Oktober",label:10},{name:"November",label:11},{name:"December",label:12}].map((function(e){return a=e,r.a.createElement("label",{key:a.label},r.a.createElement("input",{type:"checkbox",name:a.label,onChange:h,checked:t.current.includes(a.label)}),a.name);var a})))),r.a.createElement("div",{className:"row noHower"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"selects"},r.a.createElement("label",{htmlFor:"startYear"},"Starting year:"),r.a.createElement("select",{id:"startYear",name:"startYear",onChange:h},l.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("label",{htmlFor:"endYear"},"End year:"),r.a.createElement("select",{id:"endYear",name:"endYear",onChange:h},l.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),a.current&&r.a.createElement("warning",null,"End year can't be before start year."))))}a(35);function S(e){var t={mExpenses:"Monthly expenses",mIncome:"Monthly income"},a="".concat(t[e.typeOfData]," this month"),l="".concat(t[e.typeOfData]," in other month"),c=Object(n.useState)(!1),o=Object(b.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(b.a)(u,2),d=m[0],p=m[1];return r.a.createElement("div",null,e.didSplit&&r.a.createElement(F,{data:e.data.active,typeOfData:e.typeOfData,setShowDetails:s}),i&&r.a.createElement(k,{text:a,isActive:!0}),i&&e.data.active.map((function(t){return r.a.createElement(I,{item:t,typeOfData:e.typeOfData,key:t._id.$oid,deleteFromDB:e.deleteFromDB,updateInDB:e.updateInDB,isMonthData:!0,isActive:!0})})),i&&e.arrayIsEmpty(e.data.active)&&r.a.createElement(g,null),i&&r.a.createElement(k,{text:l,isActive:!1}),i&&e.data.inactive.map((function(t){return r.a.createElement(I,{item:t,typeOfData:e.typeOfData,key:t._id.$oid,deleteFromDB:e.deleteFromDB,updateInDB:e.updateInDB,isActive:!1,isMonthData:!0})})),i&&e.arrayIsEmpty(e.data.inactive)&&r.a.createElement(g,null),i&&!d&&r.a.createElement(E,{typeOfData:e.typeOfData,setShowInputRow:p,showInputRow:d}),i&&d&&r.a.createElement(x,{setShowInputRow:p,showInputRow:d,writeToDB:e.writeToDB,date:e.date,typeOfData:e.typeOfData}))}function Y(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(b.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){var t=function(t){var a={};return a.active=t.filter((function(t){return t.month.includes(e.date.selectedMonth+1)&&t.year.includes(e.date.selectedYear)})),a.inactive=t.filter((function(e){return!a.active.includes(e)})),a}(e.data);u(t),l||c(!0)}),[e.data]);return r.a.createElement("div",null,l&&r.a.createElement(S,{typeOfData:e.typeOfData,data:s,didSplit:l,updateInDB:e.updateInDB,deleteFromDB:e.deleteFromDB,arrayIsEmpty:function(e){return 0===e.length},date:e.data.date,writeToDB:e.writeToDB}))}function C(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"leftBorder"}),r.a.createElement("div",{className:"title bold"},r.a.createElement("p",null,"Balance:")),r.a.createElement("div",{className:"value bold"},r.a.createElement("p",{className:"numbersAlign"},e.data.mIncomeTotal+e.data.incomeTotal-e.data.mExpensesTotal-e.data.expensesTotal," \u20ac")),r.a.createElement("div",{className:"button"}))}var A=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,{date:this.props.data.date,changeMonth:this.props.changeMonth,readAllCollectionsFromDB:this.props.readAllCollectionsFromDB}),r.a.createElement("div",{className:"monthTable"},!this.props.data.loading&&r.a.createElement(C,{data:this.props.data})),r.a.createElement("div",{className:"monthTable"},!this.props.data.loading&&r.a.createElement(M,{typeOfData:"expenses",data:this.props.data.expenses,total:this.props.data.expensesTotal,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date}),!this.props.data.loading&&r.a.createElement(M,{typeOfData:"income",data:this.props.data.income,total:this.props.data.incomeTotal,writeToDB:this.props.writeToDB,readFromDB:this.props.readFromDB,deleteFromDB:this.props.deleteFromDB,updateInDB:this.props.updateInDB,date:this.props.data.date})),r.a.createElement("div",{className:"monthTable"},!this.props.data.loading&&r.a.createElement(Y,{typeOfData:"mExpenses",data:this.props.data.mExpenses,updateInDB:this.props.updateInDB,deleteFromDB:this.props.deleteFromDB,writeToDB:this.props.writeToDB,date:this.props.data.date}),!this.props.data.loading&&r.a.createElement(Y,{typeOfData:"mIncome",data:this.props.data.mIncome,updateInDB:this.props.updateInDB,deleteFromDB:this.props.deleteFromDB,writeToDB:this.props.writeToDB,date:this.props.data.date})))}}]),a}(n.Component),R=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={loading:!0,date:{currentMonth:(new Date).getMonth(),currentYear:(new Date).getFullYear(),selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear()}},n.readFromDB=n.readFromDB.bind(Object(h.a)(n)),n.writeToDB=n.writeToDB.bind(Object(h.a)(n)),n.deleteFromDB=n.deleteFromDB.bind(Object(h.a)(n)),n.updateInDB=n.updateInDB.bind(Object(h.a)(n)),n.changeMonth=n.changeMonth.bind(Object(h.a)(n)),n.readAllCollectionsFromDB=n.readAllCollectionsFromDB.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"readFromDB",value:function(e,t,a){var n=this;fetch("/fetch/".concat(e),{method:"GET",headers:{"Content-type":"application/json",month:t+1,year:a,typeOfData:e}}).then((function(e){return e.json()})).then((function(t){var a;return a={},Object(m.a)(a,e,t.data),Object(m.a)(a,e+"Total",t.total[0].total),a})).then((function(e){return n.setState(e)})),console.log("readFromDB is done fetching ".concat(e))}},{key:"readAllCollectionsFromDB",value:function(e,t){for(var a=["income","expenses","mExpenses","mIncome"],n=0;n<a.length;n++)this.readFromDB(a[n],e,t)}},{key:"writeToDB",value:function(e,t){var a=this;fetch("/add/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a;return a={},Object(m.a)(a,t,e.data),Object(m.a)(a,t+"Total",e.total[0].total),a})).then((function(e){return a.setState(e)}))}},{key:"deleteFromDB",value:function(e,t){var a=this,n=this.state.date.selectedMonth+1,r=this.state.date.selectedYear;fetch("/delete/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({id:e,month:n,year:r})}).then((function(e){return e.json()})).then((function(e){var a;return a={},Object(m.a)(a,t,e.data),Object(m.a)(a,t+"Total",e.total[0].total),a})).then((function(e){return a.setState(e)}))}},{key:"updateInDB",value:function(e,t){var a=this;e.selectedMonth=this.state.date.selectedMonth+1,e.selectedYear=this.state.date.selectedYear,fetch("/update/".concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var a;return a={},Object(m.a)(a,t,e.data),Object(m.a)(a,t+"Total",e.total[0].total),a})).then((function(e){return a.setState(e)}))}},{key:"changeMonth",value:function(e){var t=this.state.date.selectedMonth,a=this.state.date.selectedYear;11===this.state.date.selectedMonth&&e>0?(t=0,a+=1):0===this.state.date.selectedMonth&&e<0?(t=11,a-=1):t+=e,this.setState({date:Object(u.a)(Object(u.a)({},this.state.date),{},{selectedMonth:t,selectedYear:a})})}},{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=["income","expenses","mExpenses","mIncome"],n=0;case 3:if(!(n<a.length)){e.next=10;break}return e.next=6,fetch("/fetch/".concat(a[n]),{method:"GET",headers:{"Content-type":"application/json",month:this.state.date.currentMonth+1,year:this.state.date.currentYear,typeOfData:a[n]}}).then((function(e){return e.json()})).then((function(e){return t[a[n]+"Total"]=e.total[0].total,e.data}));case 6:t[a[n]]=e.sent;case 7:n++,e.next=3;break;case 10:t.loading=!1,this.setState(t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(A,{data:this.state,writeToDB:this.writeToDB,readFromDB:this.readFromDB,deleteFromDB:this.deleteFromDB,updateInDB:this.updateInDB,changeMonth:this.changeMonth,readAllCollectionsFromDB:this.readAllCollectionsFromDB})}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.7b299b91.chunk.js.map